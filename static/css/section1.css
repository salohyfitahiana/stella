
    :root{
      --green-900:#0E3C16;
      --green-800:#1B5E20;
      --green-700:#2E7D32;
      --green-600:#388E3C;
      --green-500:#4CAF50;
      --green-400:#66BB6A;
      --green-300:#81C784;
      --brown:#6D4C41;
      --bg:#EAF5E9;
      --white:#ffffff;
      --shadow:0 8px 22px rgba(0,0,0,.18);
      --red:#f44336;
    }
    *{box-sizing:border-box;
      margin:0;padding:0}
    html,body{
      height:100%}
    body{
      font-family:sans-serif;
      background:linear-gradient(180deg,#E9F7E7 0%, #E3F3E2 35%, #DCEEDA 60%, #D6E9D5 100%);

    }
    .header
    {position:sticky; 
      top:0; z-index:50;
       height:64px; 
       background:var(--green-500);
        display:flex; 
        align-items:center; 
        justify-content:space-between; 
        padding:0 16px;
         box-shadow:0 2px 8px rgba(0,0,0,.15);}

    .icon-btn
    {
      appearance:none; 
      border:0; background:transparent; 
      color:#fff; 
      font-size:26px;
       cursor:pointer;}
    .burger
    {
      display:flex; 
      flex-direction:column;
       gap:4px
      }
    .burger span
    {
      display:block; 
      width:22px; 
      height:2px; 
      background:#fff
    }
    .content
    {
      max-width:480px; 
      margin:0 auto;
      padding:20px 16px 160px;
      position:relative;
      z-index:10
        }
    /* Conteneur pour centrer le badge */
    .level-badge-container
     {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      margin-bottom: 20px;
    }

    /* Badge de niveau amélioré */
 .level-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px;
      border-radius: 15px;
      background: linear-gradient(135deg, var(--green-700), var(--green-600));
      color: var(--white);
      font-weight: 700;
      font-size: 16px;
      margin:0 auto;
      box-shadow: var(--shadow);
      text-align: center;
      width: 50%;
      max-width: 200px;
    }
    .level-badge:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .level-badge:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.5);}
    .quiz-label
    {
      display:inline-block;
       color:var(--green-700); 
       text-decoration:underline; 
       margin-bottom:28px
      }
    .question-line
    {
      font-size:18px; 
      font-weight:600; 
      margin-bottom:24px;
    }
    .options
    {
      display:flex; 
      flex-direction:column; 
      gap:14px; margin-bottom:26px
    }
    .option
    {
      background:var(--green-600); 
      color:#fff; padding:18px;
       border-radius:18px; 
       font-size:16px; 
       font-weight:600; border:0;
        cursor:pointer
      }
    .option.selected
    {
      outline:3px solid rgba(255,255,255,.75)
    }
    .validate
    {
      display:block; 
      margin:0 auto;
       padding:14px 28px; 
       border-radius:18px; 
       border:0; 
       background:#fff;
       color:var(--green-600);
      font-weight:800;
       font-size:18px; 
        cursor:pointer
        }
    .validate:disabled
    {
      opacity:.55; 
      cursor:not-allowed}
    .completion{
      display:none; 
      text-align:center; 
      background:rgba(255,255,255,.96); 
      color:var(--green-700); 
      padding:18px 20px;
       border-radius:14px;
        position:fixed; 
        left:50%; 
        transform:translateX(-50%);
         bottom:82px; z-index:60; 
         width:calc(100% - 40px); 
         max-width:420px;
        }
    .completion .final-score
    {
      font-weight:800;
       font-size:16px; 
       color:var(--green-800)
      }
    .bottom
    {
      position:fixed;
       left:0;
        right:0;
        bottom:0;
         height:64px; 
         background:var(--green-700);
          display:flex;
           justify-content:space-between; 
           padding:0 22px;
            z-index:40;
          }
    .bottom .icon-btn
    {
      font-size:24px
    }
    .bg-layer
    {
      position:fixed; 
      left:0; right:0; 
      pointer-events:none}
    .far-hills
    {
      bottom:64px; 
      height:180px;
       z-index:1; 
       background:url('data:image/svg+xml;utf8,\
      <svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 400 180%22>\
        <path d=%22M0,150 C30,110 70,135 110,120 C150,105 190,145 230,125 C270,105 310,130 350,115 C370,108 385,112 400,120 L400,180 L0,180 Z%22 fill=%22%23BDE6BF%22/>\
      </svg>') repeat-x bottom/400px 180px}
    .near-hills{bottom:64px; height:220px; z-index:2; background:url('data:image/svg+xml;utf8,\
      <svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 400 220%22>\
        <path d=%22M0,185 C35,165 75,175 115,165 C165,152 210,190 250,172 C290,154 330,165 370,175 L400,185 L400,220 L0,220 Z%22 fill=%22%234CAF50%22/>\
      </svg>') repeat-x bottom/400px 220px}
    .trees-village{bottom:64px; height:240px; z-index:3; background:url('data:image/svg+xml;utf8,\
      <svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22400%22 height=%22240%22 viewBox=%220 0 400 240%22>\
        <!-- Sapin -->\
        <polygon points=%2270,200 90,160 110,200%22 fill=%22%232E7D32%22/>\
        <polygon points=%2274,185 90,150 106,185%22 fill=%22%23388E3C%22/>\
        <rect x=%2288%22 y=%22200%22 width=%224%22 height=%2216%22 fill=%22%236D4C41%22/>\
        <!-- Banana tree -->\
        <rect x=%22150%22 y=%22185%22 width=%228%22 height=%2230%22 fill=%22%236D4C41%22/>\
        <path d=%22M154,180 C140,160 170,160 154,180Z%22 fill=%22%2366BB6A%22/>\
        <path d=%22M154,170 C130,150 178,150 154,170Z%22 fill=%22%2381C784%22/>\
        <!-- Round tree -->\
        <rect x=%22210%22 y=%22190%22 width=%227%22 height=%2225%22 fill=%22%236D4C41%22/>\
        <circle cx=%22213%22 cy=%22180%22 r=%2220%22 fill=%22%234CAF50%22/>\
        <!-- Houses -->\
        <rect x=%22300%22 y=%22200%22 width=%2236%22 height=%2216%22 fill=%22%23FFFFFF%22/>\
        <polygon points=%22298,200 318,186 338,200%22 fill=%22%23D32F2F%22/>\
        <!-- Birds -->\
        <path d=%22M50,60 q10,-10 20,0 q10,10 20,0%22 stroke=%22%23000%22 fill=%22none%22 stroke-width=%222%22/>\
        <path d=%22M120,40 q8,-8 16,0 q8,8 16,0%22 stroke=%22%23000%22 fill=%22none%22 stroke-width=%222%22/>\
        <path d=%22M200,70 q12,-12 24,0 q12,12 24,0%22 stroke=%22%23000%22 fill=%22none%22 stroke-width=%222%22/>\
      </svg>') repeat-x bottom/400px 240px}
    /* NANAMPY: Result Page Styles */

    .result-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to bottom, #4CAF50, #8BC34A);
      z-index: 1000;
      display: none;
      flex-direction: column;
    }

    .result-header {
      background-color: #4CAF50;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .result-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 40px 20px;
      background: linear-gradient(135deg, #E8F5E8, #F0F8F0);
      position: relative;
      overflow: hidden;
    }

    .result-card {
      background: white;
      border: 4px solid #4CAF50;
      border-radius: 20px;
      width: 90%;
      max-width: 350px;
      height: 400px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 40px 20px;
      box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
      position: relative;
      overflow: hidden;
      transition: all 0.5s ease;
    }

    .result-card.lose {
      border-color: #f44336;
      box-shadow: 0 8px 25px rgba(244, 67, 54, 0.3);
    }

    .result-card::before {
      content: '';
      position: absolute;
      top: -50px;
      left: -50px;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, rgba(76, 175, 80, 0.1), transparent);
      border-radius: 50%;
      transition: all 0.5s ease;
    }

    .result-card.lose::before {
      background: radial-gradient(circle, rgba(244, 67, 54, 0.1), transparent);
    }

    .result-card::after {
      content: '';
      position: absolute;
      bottom: -30px;
      right: -30px;
      width: 80px;
      height: 80px;
      background: radial-gradient(circle, rgba(76, 175, 80, 0.1), transparent);
      border-radius: 50%;
      transition: all 0.5s ease;
    }

    .result-card.lose::after {
      background: radial-gradient(circle, rgba(244, 67, 54, 0.1), transparent);
    }

    .result-emoji {
      font-size: 60px;
      margin-bottom: 20px;
      animation: bounce 1s infinite alternate;
    }

    .result-text {
      color: #4CAF50;
      font-size: 28px;
      font-weight: bold;
      text-align: center;
      margin-bottom: 20px;
      transition: all 0.5s ease;
    }

    .result-text.lose {
      color: #f44336;
    }

    .result-score {
      font-size: 18px;
      color: #666;
      margin-bottom: 30px;
      text-align: center;
    }

    .result-actions {
      display: flex;
      justify-content: space-between;
      padding: 20px 40px;
      gap: 20px;
    }

    .result-btn {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 15px 25px;
      border-radius: 10px;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 60px;
      min-height: 60px;
    }

    .result-btn:hover {
      background-color: #45a049;
      transform: translateY(-2px);
    }

    .result-bottom-nav {
      background-color: #4CAF50;
      padding: 15px;
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
    }

    .result-nav-btn {
      color: white;
      font-size: 24px;
      cursor: pointer;
      padding: 10px 15px;
      border-radius: 10px;
      transition: background-color 0.3s;
      background: none;
      border: none;
    }

    .result-nav-btn:hover {
      background-color: rgba(150, 131, 131, 0.2);
    }

    /* Canvas ho an'ny confetti */
    #confettiCanvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
    }

    @keyframes bounce {
      from { transform: translateY(0); }
      to { transform: translateY(-10px); }
    }

    @keyframes celebration {
      0% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.1) rotate(5deg); }
      50% { transform: scale(1.2) rotate(-5deg); }
      75% { transform: scale(1.1) rotate(2deg); }
      100% { transform: scale(1) rotate(0deg); }
    }

    .result-card.celebrate {
      animation: celebration 1s ease-in-out;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .result-card {
      animation: fadeInUp 0.8s ease-out;
    }

    @media (max-width: 480px) {
      .result-card {
        width: 95%;
        height: 350px;
        padding: 30px 15px;
      }
      
      .result-text {
        font-size: 24px;
      }
      
      .result-emoji {
        font-size: 50px;
      }
      
      .result-actions {
        padding: 15px 30px;
      }
    }
